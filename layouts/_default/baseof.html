<!DOCTYPE html>
<html lang="en">
<head>
    {{ partial "head.html" . }}
</head>
<body>
    {{ partial "header.html" . }}

    <main class="main-content">
        {{ block "main" . }}{{ end }}
    </main>

    {{ partial "footer.html" . }}

    <script src="{{ "js/main.js" | relURL }}" async></script>
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('{{ "sw.js" | relURL }}')
                    .then(registration => { console.log('SW registered:', registration); })
                    .catch(err => { console.log('SW registration failed:', err); });
            });
        }
    </script>
</body>
</html> 