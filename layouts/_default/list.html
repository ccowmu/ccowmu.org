{{ define "main" }}
<div class="list-page">
  <h1>{{ .Title }}</h1>
  <input type="text" id="search-input" placeholder="Search minutes...">
  <div id="minutes-grid">
    {{ range .Pages }}
      <div class="minute-card">
        <a href="{{ .Permalink }}">
          <h2>{{ .Title }}</h2>
          <p>{{ .Date.Format "January 2, 2006" }}</p>
        </a>
      </div>
    {{ end }}
  </div>
</div>
<script>
document.addEventListener('DOMContentLoaded', function() {
  const searchInput = document.getElementById('search-input');
  const minuteCards = document.querySelectorAll('.minute-card');

  searchInput.addEventListener('keyup', function() {
    const filter = searchInput.value.toLowerCase();
    minuteCards.forEach(function(card) {
      const text = card.textContent.toLowerCase();
      if (text.includes(filter)) {
        card.style.display = '';
      } else {
        card.style.display = 'none';
      }
    });
  });
});
</script>
{{ end }}
