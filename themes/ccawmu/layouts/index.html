{{- define "main" }}
<!-- Hero Section -->
<section class="hero">
    <div class="container">
        <div class="hero-content">
            <h1 class="main-title">{{ .Title | default "The Computer Club at Western Michigan University" }}</h1>
            <p class="hero-subtitle">{{ .Description | default "WMU's Resident Hackerspace Since 1976." }}</p>
            <div class="meeting-info-prominent">
                <div class="meeting-primary">
                    <h2 class="meeting-title">Weekly Meetings</h2>
                    <div class="meeting-details">
                        <span class="meeting-time">{{ .Site.Params.meetingTime }}</span>
                        <span class="meeting-location">{{ .Site.Params.meetingLocation }}</span>
                    </div>
                    <p class="meeting-welcome">All students welcome • Any major</p>
                </div>
            </div>
            <div class="hero-actions">
                <a href="{{ "join" | relURL }}" class="join-button">Join the Club</a>
            </div>
        </div>
    </div>
</section>

<!-- Windows Grid -->
<section class="windows-section">
    <div class="container">
        <div class="windows-grid">
            <!-- Group Photo Window -->
            <div class="window-frame large triple-wide" data-window="group-photo">
                <div class="window-header">
                    <span class="window-title">group_photo_2025.jpg</span>
                    <div class="window-controls">
                        <span class="control minimize"></span>
                        <span class="control maximize"></span>
                        <span class="control close"></span>
                    </div>
                </div>
                <div class="window-content">
                    <div class="image-placeholder">
                        <picture>
                            <source srcset="{{ "images/group_photo_2025.webp" | relURL }}" type="image/webp">
                            <img src="{{ "images/group_photo_2025.png" | relURL }}" alt="CCaWMU Group Photo 2025" loading="eager" decoding="async" width="2934" height="1486">
                        </picture>
                        <div class="image-overlay">
                            <span class="image-caption">Spring 2025 Hackathon • Kohrman Hall</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Terminal About -->
            <div class="window-frame medium" data-window="about">
                <div class="window-header">
                    <span class="window-title">about.sh</span>
                    <div class="window-controls">
                        <span class="control minimize"></span>
                        <span class="control maximize"></span>
                        <span class="control close"></span>
                    </div>
                </div>
                <div class="window-content terminal">
                    <div class="terminal-line">
                        <span class="prompt">cc@wmu:~$</span> ./about
                    </div>
                    <div class="terminal-output">
                        {{- with .Params.about }}
                            {{ . | markdownify }}
                        {{- else }}
                        <p> We are an organic, laid back learning environment, and value curiosity as much as we do knowledge.</p>
                        <br>
                        <p>Regardless of what we know or who we are before joining, we grow and learn a tremendous amount from each other.</p>
                        <br>
                        <p>What we do:</p>
                        <p>• Software development & engineering</p>
                        <p>• Hardware projects & embedded systems</p>
                        <p>• Cybersecurity & network administration</p>
                        <p>• Drink Monster Energy</p>
                        <br>
                        <p>We share our space with <a href="https://wraven.org" target="_blank" rel="noopener" style="color: #a500e1; text-decoration: underline;">WRAVEN</a>, a cybersecurity research group.</p>
                        <br>
                        <p>Read our <a href="https://github.com/ccowmu/constitution/tree/master" target="_blank" rel="noopener" style="color: #4a9eff; text-decoration: underline;">constitution</a></p>
                        {{- end }}
                    </div>
                    <div class="terminal-line">
                        <span class="prompt">cc@wmu:~$</span> <span class="cursor">█</span>
                    </div>
                </div>
            </div>

            <!-- Twitch Stream Window -->
            {{- if .Site.Params.twitch }}
            <div class="window-frame large double-wide" data-window="stream">
                <div class="window-header">
                    <span class="window-title">live_stream.html</span>
                    <div class="window-controls">
                        <span class="control minimize"></span>
                        <span class="control maximize"></span>
                        <span class="control close"></span>
                    </div>
                </div>
                <div class="window-content stream-content">
                    <iframe 
                        src="https://player.twitch.tv/?channel={{ .Site.Params.twitch }}&parent={{ .Site.BaseURL | replaceRE "^https?://" "" | replaceRE "/$" "" }}" 
                        frameborder="0" 
                        allowfullscreen="true" 
                        scrolling="no" 
                        height="100%" 
                        width="100%">
                    </iframe>
                </div>
            </div>
            {{- end }}

            <!-- Election Night Photo -->
            <div class="window-frame large double-wide" data-window="election-night">
                <div class="window-header">
                    <span class="window-title">election_night_2025.jpg</span>
                    <div class="window-controls">
                        <span class="control minimize"></span>
                        <span class="control maximize"></span>
                        <span class="control close"></span>
                    </div>
                </div>
                <div class="window-content">
                    <div class="image-placeholder">
                        <picture>
                            <source srcset="{{ "images/election_night_2025.webp" | relURL }}" type="image/webp">
                            <img src="{{ "images/election_night_2025.jpg" | relURL }}" alt="Election Night 2025" loading="lazy" decoding="async" width="3648" height="2736">
                        </picture>
                        <div class="image-overlay">
                            <span class="image-caption">Executive Board Election Night • November 2025</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- System Status -->
            <div class="window-frame small" data-window="status">
                <div class="window-header">
                    <span class="window-title">system_status.log</span>
                    <div class="window-controls">
                        <span class="control minimize"></span>
                        <span class="control maximize"></span>
                        <span class="control close"></span>
                    </div>
                </div>
                <div class="window-content terminal">
                    <div class="status-display">
                        <div class="status-line terminal-line">
                            <span class="status-label">Club Status:</span>
                            <span class="status-value active">
                                <span class="status-indicator-dot active"></span>ACTIVE
                            </span>
                        </div>
                        <div class="status-line terminal-line">
                            <span class="status-label">Total Members:</span>
                            <span class="status-value members" id="member-count">{{ .Params.memberCount | default "467" }}</span>
                        </div>
                        <div class="status-line terminal-line">
                            <span class="status-label">Uptime:</span>
                            <span class="status-value uptime">{{ .Params.uptime | default "49 years" }}</span>
                        </div>
                        <div class="status-line terminal-line">
                            <span class="status-label">Next Meeting:</span>
                            <span class="status-value meeting" id="next-meeting">Thu, Jul 17</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
{{- end }}
